<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<title>GameMaker Tutorial</title>
		<meta http-equiv="X-UA-Compatible" content="IE=9" />
		<link rel="stylesheet" href="../style.css" type="text/css" media="screen" title="style" charset="UTF-8"/>
		<script type="text/javascript">
			var changePage = function(){
				var newPage = document.getElementById("page-select");
				//alert(newPage.value);
				window.location.replace(newPage.value);
				}
		</script>
	</head>
<body>

<h2>Tutorial - Space Rocks</h2>
	<div class="head">
		<select id="page-select" onChange="changePage()">
			<optgroup label="Chapter 3 - Score, Lives and Effects">
				<option style="font-weight:bold;" value="page05.html">Room Text 1</option>
				<option value="page06.html">Room Text 2</option>
				<option value="page07.html">Game Control</option>
				<option value="page01.html">Controller Objects</option>
				<option value="page02.html">Fonts</option>
				<option value="page03.html">Setting Score and Lives</option>
				<option value="page04.html">Rooms</option>
			</optgroup>
				<option style="font-weight:bold;" value="../index.html">Introduction</option>
				<option style="font-weight:bold;" value="../Chapter4/page01.html">Chapter 4 - Sound Effects and Polish</option>
				<option style="font-weight:bold;" value="../Chapter1/page01.html">Chapter 1 - Getting Started</option>
				<option style="font-weight:bold;" value="../Chapter2/page01.html">Chapter 2 - Attacking and Collisions</option>		  </optgroup>
		</select>
	</div>
<!--<h5 style="color: #ffffff; text-align:left; font-size:1em;">Starting A New Project</h5>-->
<div class="body-scroll">

<p>
Open up the object "<tt>obj_game</tt>" (if it's not already) and go to the <b>Draw Event</b>. Since our object is persistent now, the DnD&trade; we have for drawing the score and lives will run in all the rooms the instance is persisted across and not just the main game room, but we want to draw different text based on the room we are actually in. Now, we could resolve this using a few "<tt>if</tt>... <tt>else if...</tt>" checks to see which room we are in and draw the text that's appropriate, but instead we'll use a <a href="gms2tutorials:///ShowHelp?tag=action_switch"><tt>Switch</tt></a> action.


<p>
Using <tt>Switch</tt> action we can check the <a href="gms2tutorials:///ShowHelp?tag=room"><tt>room</tt></a> global variable, which holds the ID of the current room this instance is in, and add different <a href="gms2tutorials:///ShowHelp?tag=action_case"><tt>Cases</tt></a> for each of the possible values. In each <tt>Case</tt> we can have the controller draw different things.

<p>
So, let's change the draw DnD&trade; to look like this:

<p>
<img class="center" src="../Images/DND_C4_05_01_Switch.png" alt="Add A Switch And A Case To The Event">

<p>
These actions will only be performed when the current room is "<tt>rm_game</tt>".

<p>
We'll set up the rest of the DnD&trade; now too, with the next room we'll deal with being the "<tt>rm_start</tt>" room, so add a case for that:

<p>
<img class="center" src="../Images/DND_C4_05_02_RoomStartCase.png" alt="Add A Case For The Start Room">

<p>
In that Case we want to add the following actions:

<p>
<img class="center" src="../Images/DND_C4_05_03_DrawTitles.png" alt="Actions For Drawing The Game Titles">

<p>
Here we are first using the <a href="gms2tutorials:///ShowHelp?tag=action_draw_value_transformed"><tt>Draw Transformed Value</tt></a> action to draw the game title scaled by 3, halfway across the room, and then we follow that with some calls to <a href="gms2tutorials:///ShowHelp?tag=action_draw_value"><tt>Draw Value</tt></a> to draw the game instructions.

<p>
Why not try running the game now and seeing how it looks?

<p>
<img class="center" src="../Images/C4_05_01_BadText.png" alt="Text Is Not Aligned Correctly">

<p>
That doesn't look quite right, does it? What's happened is that <i>GameMaker Studio 2</i> has <i>left justified</i> all the text, so we need to tell it to <i>center justify</i> it using the action <a href="gms2tutorials:///ShowHelp?tag=action_set_alignment"><tt>Set Text Alignment</tt></a> and set it to the <b>constant</b> <tt>fa_center</tt> for the horizontal align, with no need to set the vertical align. This action will be placed at the beginning of the chain, and then also placed at the <i>end</i> of the chain, but this time setting the justification back to the left (using <tt>fa_left</tt>) to reset the alignment for all the other text. The complete <tt>Case</tt> should look like this:
 
<p>
<img class="center" src="../Images/DND_C4_05_04_SetAlignment.png" alt="Set The Text Alignment">

<p>
Now, if you run the game again you'll get something like this:

<p>
<img class="center" src="../Images/C4_05_02_GoodText.png" alt="Text Is Aligned Correctly">

<p>
That's looking good, but it needs a bit of colour to live it up. For that we'll need the <a href="gms2tutorials:///ShowHelp?tag=action_set_colour"><tt>Set Draw Colour</tt></a> action. This action sets the draw colour for all text and shapes drawn to the screen, so we'll use it before the "Space Rocks" title to tell <i>GameMaker Studio 2</i> to draw the title in yellow.

<p>
<img class="center" src="../Images/DND_C4_05_05_SetColour.gif" alt="Set The Text Colour">

<p>
Like setting the font or the text alignment, setting the draw colour will change how everything drawn after the action is called is coloured, and since we only want to use the colour to accent the title, we need to reset it again to white after the <tt>Draw Transformed Value</tt> action. We'll also use it to add an accent to the "PRESS ENTER" text, so add another action changing to yellow before that, and another changing to white again after it. The chain should look like this now:

<p>
<img class="center" src="../Images/DND_C4_05_06_SetAccents.png" alt="Set The Text Colour For Various Texts">

<p>
Click the "Next" button to continue to the next page where we'll fill in the other cases...


<p>
<br>
</p>
<p>
  </div>

  <div class="footer">
    <div class="buttons">
		<div class="clear">
			<div style="float:left">
				<a href="page04.html"  class="prev">
				<div id="button-prev"></div>
				</a>
			</div>
			<div style="float:right">
				<a href="page06.html" class="next">
					<div id="button-next"></div>
				</a>
			</div>
		</div>
    </div>
    <h5>&copy; Copyright YoYo Games Ltd. 2019 All Rights Reserved</h5>
  </div>

</body>
</html>